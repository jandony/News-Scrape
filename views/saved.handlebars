<div id="mainHandlebars" class="jumbotron text-center">
  <div class="overlay">
  </div>
  <div class="background-image">
  </div>
  <div class="caption">
    <h1>Saved NYT Articles...</h1>
    <p>New York Times Edition</p>
  </div>
</div>

<div class="container-fluid article-container">
<div class="container">
    <div class="col-md-12">
        {{#if article}}
            {{#each article}}
            <div class="card panel">

                <div class="row">
                    <div class="col-sm-12 col-lg-6 pr-lg-0 bg-dark p-0 pb-5">
                        <img src="{{this.img}}" style="width: 100%;">
                    </div>
                    <div class="col-sm-12 col-lg-6 pl-lg-0">
                        <div class="card-header bg-light text-dark">
                            <h4><b>{{this.title}}</b></h4>
                        </div>
                        <div class="card-body">
                            <h4>Summary:</h4>
                            <p>{{this.summary}}</p>
                            <a href="https://www.nytimes.com/{{this.link}}" target="_blank">{{this.link}}</a>
                            <br><br>
                            <button type="button" class="btn btn-danger ml-2 delete" data-id={{this._id}}>Delete from Saved</button>
                            <button type="button" class="btn btn-success ml-2 note" data-id={{this._id}} data-toggle="modal" data-target="#noteModal{{this._id}}">Create a Note</button>
                            
                            <div id="article-notes" class="bg-light pb-5 mt-3">
                            <hr>
                            <h4>All Notes:</h4>
                            <div id="notes">
                                {{this.notes}}
                            </div>
                        </div>
                        </div>
                        <!-- Modal -->
                        <div class="modal fade" id="noteModal{{this._id}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel"><b>{{this.title}}</b></h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <form>
                                    <div class="form-group">
                                        <label for="note-textarea">Your Note goes below:</label>
                                        <textarea class="form-control" id="note-textarea" rows="3"></textarea>
                                    </div>
                                </form>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                <button id="save-note" data-id={{this._id}} type="button" class="btn btn-primary">Save changes</button>
                            </div>
                            </div>
                        </div>
                        </div>
                        
                    </div>
                </div>

            </div>
            {{/each}}
        {{else}}
        <div class="card panel">
            <div class="card-header">
            </div>
            <div class="card-body">
                <p class="text-center">Uh Oh. Looks like we don't have any saved articles...</p>
            </div>
        </div>
        {{/if}}
    </div>
</div>
</div>